<!DOCTYPE html>
<html>

<head>
    <title>Psychic-Game</title>
    <meta charset="UTF-8">
    <lang= en-US></lang>
        
        <link rel="stylesheet" href="assets/css/style.css">
        <script src="assets/javascript/game.js"></script>
        
</head>

<body>
    
    <div id="game">
        <h1>The Psychic Game</h1>

        <h4>Guess what letter I'm thinking of?</h4>
        <h4>Wins:</h4>
        <h4>Losses:</h4>
        <h4>Guesses Left:</h4>
        <h4>Your Guesses so far:</h4>

    </div>

    <div id="message"></div>


    <script type="text/javascript">

        var letterChoices = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"]
        var wins = 0;
        var losses = 0;
        var numGuess = 9;
        var guessChoice = [];
        var computerGuess = letterChoices[Math.floor(Math.random() * letterChoices.length)]
        console.log(computerGuess)

        document.onkeyup = function (event) {
            

            var userGuess = event.key;
            console.log(userGuess)

            if (userGuess === computerGuess) {
                wins++
                numGuess = 9
                guessChoice = [];
            }
            if (userGuess !== computerGuess) {
                
                if(guessChoice.includes(userGuess)){
                
                    document.querySelector("#message").innerHTML  = "<h1 class='red'>Letter already used try a different letter</h1>"
                    setTimeout(function(){
                        document.querySelector("#message").innerHTML  = ""
                    }, 2000)

                } else {
                    numGuess--
                    guessChoice.push(userGuess);
                }
                
            }

            if(numGuess === 0){
                document.querySelector("#message").innerHTML  = "<h1>Game Over, Try Again</h1>"
                setTimeout(function(){
                    document.querySelector("#message").innerHTML  = ""
                }, 2000)
                     computerGuess = letterChoices[Math.floor(Math.random() * letterChoices.length)] 
                     numGuess = 9
                     losses++
                     guessChoice = [];
                     console.log(computerGuess);  
            }
            var html = `<h1>The Psychic Game</h1>
                <h4>Guess what letter I'm thinking of?</h4>
                <h4>Wins: ${wins} </h4>
                <h4>Losses: ${losses} </h4>
                <h4>Guesses Left: ${numGuess} </h4>
                <h4>Your Guesses so far: ${guessChoice.join(',')} </h4>`
            document.querySelector("#game").innerHTML = html
        };
    </script>


</body>

</html>